/*! @bts/slidey v1.1.2 | Apache 2.0 | Made with â™¥ by Nick Woodward <nick@salte.io>, David Marcella <marcella2113@gmail.com> */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("angular")):"function"==typeof define&&define.amd?define("slidey",["angular"],t):"object"==typeof exports?exports.slidey=t(require("angular")):e.slidey=t(e.angular)}(this,function(e){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=i(o),r=n(2),a=i(r),l=n(5),c=i(l),d=s.default.module("bts.slidey",[]);d.config(c.default),d.component("btsSlidey",a.default),t.default=d.name},function(t,n){t.exports=e},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),s=i(o),r=n(4),a=i(r);t.default={require:{parentSlidey:"^^?btsSlidey"},bindings:{opened:"=?",contentWidth:"@",reflowContainer:"@",onClose:"&?",onCloseFinished:"&?"},controller:a.default,template:s.default,transclude:!0}},function(e,t){e.exports="<div class=slidey-overlay ng-click=$ctrl.close()></div> <div class=slidey-content-wrapper> <div class=slidey-content ng-transclude></div> </div> "},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,n){i(this,e),this.$scope=t,this.$element=n}return o(e,[{key:"$onInit",value:function(){this.opened=!1,this.contentWidth="80%",this.$scope.$watch("$ctrl.opened",this._onOpenedChanged.bind(this))}},{key:"$postLink",value:function(){this._wrapper=this.$element[0].querySelector(".slidey-content-wrapper"),this._content=this.$element[0].querySelector(".slidey-content"),this._overlay=this.$element[0].querySelector(".slidey-overlay"),this.setNested(this._nested),this._wrapper.addEventListener("transitionend",this._onTransitionEnd.bind(this),{passive:!0})}},{key:"$onChanges",value:function(e){e.contentWidth&&this.setNested(this._nested),e.reflowContainer&&(this._container=this.reflowContainer?document.getElementById(this.reflowContainer):null,this.adjustContainer())}},{key:"open",value:function(){this.opened=!0}},{key:"close",value:function(){this.opened=!1,this.onClose&&this.onClose()}},{key:"_onOpenedChanged",value:function(){this.opened?this.$element.addClass("opened"):this.$element.removeClass("opened"),this.parentSlidey&&(this._container=this._container||this.parentSlidey._container,this.parentSlidey.setNested(this.opened)),this.adjustContainer()}},{key:"_onTransitionEnd",value:function(e){var t=this;"transform"===e.propertyName&&!this.opened&&this.onCloseFinished&&this.$scope.$apply(function(){t.onCloseFinished()})}},{key:"setNested",value:function(e){this._nested=e,this._wrapper&&(this._nested?(this._contentObserver&&this._contentObserver.disconnect(),this._wrapper.style.width="100%",this.$element.addClass("nested")):(this._wrapper.style.width=this.contentWidth,this.$element.removeClass("nested"),this.adjustContainer()))}},{key:"adjustContainer",value:function(){var e=this;if(!window.MutationObserver)throw new Error("Unfortunately, this browser doesn't support the MutationObserver API!");this._container&&(this._containerObserver&&this._containerObserver.disconnect(),this._contentObserver&&this._contentObserver.disconnect(),this.opened?(this._contentObserver=new MutationObserver(function(t){e.opened&&(e._container.style.height=e.contentHeight)}),this._contentObserver.observe(this._wrapper,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class","style"]}),this._container.style.height=this.contentHeight):this.parentSlidey&&this.parentSlidey.opened?this._container.style.height=this.parentSlidey.contentHeight:this.parentSlidey||(this._containerObserver=new MutationObserver(function(t){e.opened||(e._containerHeight=e._container.scrollHeight)}),this._containerObserver.observe(this._container,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class","style"]}),this._container.style.height=""))}},{key:"containerHeight",get:function(){return this._containerHeight||(this._containerHeight=this.parentSlidey&&this.parentSlidey._containerHeight||this._container.scrollHeight),this._containerHeight}},{key:"contentHeight",get:function(){return this._content.scrollHeight<this.containerHeight?this.containerHeight+"px":this._content.scrollHeight+"px"}}]),e}();t.default=s,s.$inject=["$scope","$element"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=document.createElement("style");e.setAttribute("type","text/css"),e.appendChild(document.createTextNode(o.default)),document.head.appendChild(e)};var i=n(6),o=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t){e.exports="bts-slidey {\n  pointer-events: none;\n}\n\nbts-slidey.opened {\n  pointer-events: auto;\n}\n\n/* Overlay */\n\n.slidey-overlay {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  background-color: black;\n  transition: opacity cubic-bezier(0.4, 0, 0.2, 1) 0.5s;\n  opacity: 0;\n  z-index: 9999;\n}\n\nbts-slidey.opened > .slidey-overlay {\n  opacity: 0.15;\n}\n\n/* Content */\n\n.slidey-content-wrapper {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background-color: white;\n  transform: translateX(100%);\n  transition: cubic-bezier(0.4, 0, 0.2, 1) 0.5s;\n  transition-property: transform, width, box-shadow;\n  overflow-y: auto;\n  overflow-x: hidden;\n  z-index: 9999;\n}\n\nbts-slidey.opened > .slidey-content-wrapper {\n  transform: translateX(0%);\n  box-shadow: 0 8px 8px rgba(0,0,0,0.5);\n}\n\nbts-slidey.nested > .slidey-content-wrapper {\n  overflow-y: hidden;\n}\n"}])});
//# sourceMappingURL=slidey.min.js.map